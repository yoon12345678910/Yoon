<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>test61 리스너 등록addEventListener()/removeEventListener()</title>

<style>

div{
border : 1px solid red;
margin: 10px;
}

p{
border : 1px dashed blue;
margin: 10px;
}

span{
border : 2px dotted black;

}

</style>

</head>

<body>
<div id="d1">d1
	<div id="d11">d11<p id="p1">비트 <span id="s1">강남</span>교육센터</p></div>
	<div id="d12">d12<p id="p2">비트 <span id="s2">종로</span>교육센터</p></div>
</div>

<div id="d2">d2
	<div id="d21">d21<p id="p3">비트 <span id="s3">대전</span>교육센터</p></div>
	<div id="d22">d22<p id="p4">비트 <span id="s4">부산</span>교육센터</p></div>
</div>


<script>

"use strict";
//일반적인 방법으로 리스너를 등록하면,
//targetting phas 또는 bubling phage 에서 호출됨.
//capturing 단계에서 호출되게 하려면, 
//==> addEventListener() 함수를 사용해 리스너를 등록한다.

//event.stopPropagation()  =>>부모로 버블하지말라.
document.getElementById('d1').onclick = function(event){
	console.log("d1....");
};

document.getElementById('d11').onclick = function(event){
	console.log("d11....");
};

document.getElementById('d12').onclick = function(event){
	console.log("d12....");
};

document.getElementById('p1').onclick = function(event){
	console.log("p1 p1 p1");
};

document.getElementById('p2').onclick = function(event){
	console.log("p2 p2 p2");
};


var e1 = document.getElementById('s1');

//리스너를 등록한 순서대로 호출한다.
e1.addEventListener('click', function(){
	console.log("(1)s1....s1");
	
});

e1.onclick = function(event){
	console.log("(2)s1....s1");
	//event.stopPropagation(); //부모로 버블하지말라.
	event.stopImmediatePropagation(); //즉시 이벤트 전달을 멈춰라!
};


if(e1.attachEvent){
	// =<IE8
	e1.attachEvent('onclick', function(){
		var event =   window.event;	
	});

};



e1.addEventListener('click', function(){
	console.log("(3)s1....s1");
	
});

document.getElementById('s2').onclick = function(event){
	console.log("s2....s2");
};



</script>
</body>
</html>
	

















